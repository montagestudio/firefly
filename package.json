{
  "name": "firefly",
  "private": true,
  "version": "0.0.1",
  "description": "Server for filament in the browser",
  "main": "index.js",
  "scripts": {
    "install": "npm install --prefix common && npm install --prefix login && npm install --prefix project-daemon && npm install --prefix project",
    "test": "npm test --prefix common && npm test --prefix login && npm test --prefix project-daemon && npm test --prefix project",
    "coverage": "istanbul test -x 'spec/**' jasmine-node -- --junitreport spec && jshint --verbose .",
    "lint": "jshint --verbose .",
    "start": "./docker-swarm-start.sh",
    "stop": "./docker-swarm-stop.sh",
    "deploy": "deploy/vagrant/deploy.sh",
    "login-logs": "vagrant ssh login -c 'tail -f /home/montage/stdout.log'",
    "project-logs": "vagrant ssh project -c 'tail -f /home/montage/stdout.log'",
    "project-mount-workspaces": "deploy/vagrant/mount-workspaces.sh",
    "project-unmount-workspaces": "npm run container-rm-all && vagrant ssh project -c 'sudo rm -rf /srv/workspaces && sudo start firefly-project'",
    "container-logs": "vagrant ssh project -c 'sudo su -c \"docker ps -a -q | head -n 1 | xargs docker logs -f\"'",
    "container-files": "vagrant ssh project -c 'sudo su -c \"docker ps -a -q | head -n 1 | xargs docker diff\"'",
    "container-copy-files": "vagrant ssh project -c 'rm -rf /tmp/workspace && sudo su -c \"docker ps -a -q | head -n 1 | xargs -I {} docker cp {}:/home/montage/workspace /tmp\" && cd /tmp/workspace && bash'",
    "container-rm-all": "deploy/vagrant/remove-containers.sh",
    "container-rebuild": "npm run container-rm-all && deploy/vagrant/rebuild-container.sh && npm run deploy",
    "login-debug": "vagrant ssh login -c 'sudo pkill -USR1 -u montage -f \"nodejs /srv/firefly\" && node-inspector --web-port=8104'",
    "login-remote-debug": "vagrant ssh login -c 'sudo pkill -USR1 -u montage -f \"nodejs /srv/firefly\"'",
    "project-debug": "vagrant ssh project -c 'sudo pkill -USR1 -u montage -f \"nodejs /srv/firefly\" && node-inspector --web-port=8105'",
    "project-remote-debug": "vagrant ssh project -c 'sudo pkill -USR1 -u montage -f \"nodejs /srv/firefly\"'",
    "mop": "deploy/build/mop.sh",
    "enter-mop-mode": "deploy/vagrant/enter-mop-mode.sh",
    "exit-mop-mode": "deploy/vagrant/exit-mop-mode.sh"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/declarativ/firefly.git"
  },
  "subdomain": "firefly",
  "engines": {
    "node": "4.8.x"
  }
}
