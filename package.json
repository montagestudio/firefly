{
  "name": "firefly",
  "private": true,
  "version": "0.0.1",
  "description": "Server for filament in the browser",
  "main": "index.js",
  "scripts": {
    "test": "if [ \"`uname`\" = \"Linux\" ]; then npm_config_coverage=$npm_config_coverage runSlowSpecs=$runSlowSpecs npm run tests; else echo Running tests in VM; vagrant ssh login -c \"cd /srv/firefly; npm_config_coverage=$npm_config_coverage runSlowSpecs=$runSlowSpecs npm run tests\"; fi",
    "tests": "istanbul test -x 'spec/**' jasmine-node -- --junitreport spec && jshint --verbose .",
    "slow-tests": "runSlowSpecs=true npm test",
    "lint": "jshint --verbose .",
    "start": "vagrant up",
    "deploy": "deploy/vagrant/deploy.sh",
    "stop": "vagrant halt && echo 'Run `vagrant destroy` to completely remove the VMs (this will make `npm start` a lot slower)'",
    "login-logs": "vagrant ssh login -c 'tail -f /home/montage/stdout.log'",
    "project-logs": "vagrant ssh project -c 'tail -f /home/montage/stdout.log'",
    "project-mount-workspaces": "deploy/vagrant/mount-workspaces.sh",
    "project-unmount-workspaces": "npm run container-rm-all && vagrant ssh project -c 'sudo rm -rf /srv/workspaces && sudo start firefly-project'",
    "container-logs": "vagrant ssh project -c 'sudo su -c \"docker ps -a -q | head -n 1 | xargs docker logs -f\"'",
    "container-files": "vagrant ssh project -c 'sudo su -c \"docker ps -a -q | head -n 1 | xargs docker diff\"'",
    "container-copy-files": "vagrant ssh project -c 'rm -rf /tmp/workspace && sudo su -c \"docker ps -a -q | head -n 1 | xargs -I {} docker cp {}:/home/montage/workspace /tmp\" && cd /tmp/workspace && bash'",
    "container-rm-all": "deploy/vagrant/remove-containers.sh",
    "container-rebuild": "npm run container-rm-all && deploy/vagrant/rebuild-container.sh && npm run deploy",
    "login-debug": "vagrant ssh login -c 'sudo pkill -USR1 -u montage -f \"nodejs /srv/firefly\" && node-inspector --web-port=8104'",
    "login-remote-debug": "vagrant ssh login -c 'sudo pkill -USR1 -u montage -f \"nodejs /srv/firefly\"'",
    "project-debug": "vagrant ssh project -c 'sudo pkill -USR1 -u montage -f \"nodejs /srv/firefly\" && node-inspector --web-port=8105'",
    "project-remote-debug": "vagrant ssh project -c 'sudo pkill -USR1 -u montage -f \"nodejs /srv/firefly\"'",
    "project-clone": "echo 'Removed, use `npm run container-files` or `npm run container-copy-files` instead'",
    "update-dependencies": "rm -rf node_modules && npm install && npm dedupe && git add --update node_modules && git add node_modules",
    "mop": "deploy/build/mop.sh",
    "enter-mop-mode": "deploy/vagrant/enter-mop-mode.sh",
    "exit-mop-mode": "deploy/vagrant/exit-mop-mode.sh"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/declarativ/firefly.git"
  },
  "dependencies": {
    "bluebird": "^3.4.1",
    "collections": "~0.2.2",
    "dockerode": "~1.2.7",
    "dotenv": "^0.2.8",
    "faye-websocket": "~0.7.2",
    "github": "^0.2.3",
    "htmlparser2": "3.4.0",
    "joey": "~1.3.1",
    "logging": "https://github.com/montagestudio/logging.git",
    "minimatch": "~0.2.12",
    "minit": "0.5.7",
    "mmmagic": "0.3.5",
    "mop": "0.15.0",
    "npm": "1.4.4",
    "optimist": "~0.6.0",
    "q": "~0.9.7",
    "q-connection": "~0.6.1",
    "q-io": "^1.13.4",
    "rollbar": "~0.3.6",
    "semver": "2.2.1",
    "ua-parser-js": "~0.6.2",
    "uuid": "~1.4.1",
    "watchr": "2.4.11",
    "xmlhttprequest": "~1.6.0"
  },
  "devDependencies": {
    "istanbul": "~0.1.44",
    "jasmine-node": "~1.11.0",
    "jshint": "^2.9.5",
    "rewire": "^2.1.3"
  },
  "subdomain": "firefly",
  "engines": {
    "node": "0.10.x"
  },
  "domains": [
    "firefly.declarativ.net",
    "project.declarativ.net",
    "p0.project.declarativ.net",
    "p1.project.declarativ.net",
    "p2.project.declarativ.net",
    "p3.project.declarativ.net",
    "p4.project.declarativ.net",
    "p5.project.declarativ.net",
    "p6.project.declarativ.net",
    "p7.project.declarativ.net",
    "p8.project.declarativ.net",
    "p9.project.declarativ.net",
    "p10.project.declarativ.net",
    "p11.project.declarativ.net",
    "p12.project.declarativ.net",
    "p13.project.declarativ.net",
    "p14.project.declarativ.net",
    "p15.project.declarativ.net",
    "p16.project.declarativ.net",
    "p17.project.declarativ.net",
    "p18.project.declarativ.net",
    "p19.project.declarativ.net",
    "p20.project.declarativ.net",
    "p21.project.declarativ.net",
    "p22.project.declarativ.net",
    "p23.project.declarativ.net",
    "p24.project.declarativ.net",
    "p25.project.declarativ.net",
    "p26.project.declarativ.net",
    "p27.project.declarativ.net",
    "p28.project.declarativ.net",
    "p29.project.declarativ.net",
    "p30.project.declarativ.net",
    "p31.project.declarativ.net",
    "p32.project.declarativ.net",
    "p33.project.declarativ.net",
    "p34.project.declarativ.net",
    "p35.project.declarativ.net",
    "p36.project.declarativ.net",
    "p37.project.declarativ.net",
    "p38.project.declarativ.net",
    "p39.project.declarativ.net",
    "p40.project.declarativ.net"
  ]
}
